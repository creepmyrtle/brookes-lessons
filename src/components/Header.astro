---
const pathname = Astro.url.pathname;

const navLinks = [
  { href: '/', label: 'Home', page: 'home' },
  { href: '/about', label: 'About', page: 'about' },
  { href: '/taylor-swift-course', label: 'Taylor Swift Course', page: 'taylor-swift' },
  { href: '/blog', label: 'Blog', page: 'blog' },
  { href: '/listen', label: 'Listen', page: 'listen' },
  { href: '/policies', label: 'Policies', page: 'policies' },
  { href: '/gift-certificates', label: 'Gift Cards', page: 'gift' },
];

function isActive(href: string): boolean {
  if (href === '/') return pathname === '/';
  return pathname.startsWith(href);
}
---

<nav class="nav" id="mainNav">
  <div class="nav-inner">
    <a href="/" class="nav-logo">Brooke's <span>Lessons</span></a>
    <ul class="nav-links">
      {navLinks.map(link => (
        <li>
          <a href={link.href} class:list={[{ active: isActive(link.href) }]}>
            {link.label}
          </a>
        </li>
      ))}
      <li>
        <a href="/book" class:list={['nav-cta', { active: isActive('/book') }]}>
          Get Started
        </a>
      </li>
    </ul>
    <button class="hamburger" id="hamburgerBtn" aria-label="Menu">
      <span></span><span></span><span></span>
    </button>
  </div>
</nav>

<div class="mobile-menu" id="mobileMenu">
  <a href="/">Home</a>
  <a href="/about">About Brooke</a>
  <a href="/taylor-swift-course">Taylor Swift Course</a>
  <a href="/blog">Blog</a>
  <a href="/listen">Listen</a>
  <a href="/policies">Policies</a>
  <a href="/gift-certificates">Gift Certificates</a>
  <a href="/book">Contact / Register</a>
</div>
